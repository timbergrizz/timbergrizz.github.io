---
title: NEST - ConfigModule
feed: show
---

# ConfigModule
- 개발 편의를 위해 여러가지 모듈을 포함한 @nestjs/config등의 모듈을 설치하여 처리할 수 있다.
	- 기존 라이브러리가 있으면 이걸 한번 모듈로 감싼 것을 nest에서 사용한다.
- 일반적으로 모듈은 객체만 넣어주는데, ConfigModule은 설정값을 넣어주어야 한다.
- dotenv가 정상적으로 작동하는 것을 확인할 수 있다.

- hot reloading이 적용되어도 파일의 변화가 있을 경우 작동하지 않을 수 있다.
	- nodemon처럼 잘 작동하지 않지만, 그럴땐 그냥 다시 시작하면 된다.

- dotenv에 추가적인 기능이 제공된다.
	- .env 뒤에 추가적인 명시를 통해 상황에 따라 다르게 로드할 수 있다.

- config 모듈 사용할 때 process.env를 직접 서비스에서 사용하는 것이 아닌 configservice라는 것을 사용하는 것이 좋다.
	- 외부 객체인 환경 변수 객체를 가져오는 일 들을 줄일 수 있다.
	- Nest와 상관 없는 객체를 최소화로 가져오는 것이 좋다.
- .env등의 환경 변수들은 보안 폴더에 넣어두는 경우가 대부분이다.
	- 이러한 config를 가져오는 것은 비동기 작업을 많이 수행하게 되고, configModule.forRoot의 load 옵션을 통해 이를 조정할 수 있다.
	- 단순히 .env파일이 입력이 되는 것이 아닌, 함수를 정의하여 다른 소스로부터 가져올 수 있게 된다.
		- 비동기함수로 만들 수 있어, 외부로부터 비밀 키등을 요청할 수 있게 된다.