---
title: 분산형 데이터 분석 아키텍처
feed: hide
---
출처 :[분산형 데이터 분석 아키텍처 - 데이터 매쉬](https://bcho.tistory.com/1379)
- 조대협 멘토님이 한번 읽어보시라고 보내주셔서 오늘은 이걸 읽어보려 한다.

- 데이터 메쉬는 빅 데이터 분석 시스템의 아키텍처 스타일
	- 데이터 분석 시스템을 분산된 서비스 형태로 개발 / 관리하는 아키텍처 모델
		- MSA와 유사하게 비즈니스 단위로 데이터 아키텍처를 나누도록 하는 것이다.

# 중앙 집중형

## Data Warehouse
- 전통적인 RDBMS 형태에서 데이터를 모아서 분석하는 아키텍처
	- 구조화된 데이터를 처리하는데 유리하다.
	- 상용 벤더의 솔루션을 기반으로 구성되는데, RDBMS의 특성상 횡적인 스케일에 한계가 있으며, 인프라 비용이 높다.
- 파일이나 DB(OLTP) 시스템에 저장된 데이터를 웨어하우스로 수집 후, 여기서 데이터를 저장하고 분석하는 방식이다.
- 각 비즈니스 부서에 따라 분석에 대한 요구사항이 많을 경우 데이터 웨어하우스에서 그 부서에만 필요한 데이터를 Data Mart라는 형태로 분석용 DB에 저장해둘 수 있다.

## Data Lake
- 데이터 양이 늘고, 종류가 다양해지면서 빅데이터 분석의 요구사항이 발생했다.
	- 이러한 문제를 해결하기 위한 아키텍처이다.
- 데이터 웨어하우스가 정형 데이터를 지원했다면, 데이터 레이크는 형식에 제한이 없다.
	- 텍스트나 이미지에 대한 저장과 분석을 지원하고, JSON 등의 반정형 데이터까지 지원한다.
- 처리된 데이터는 결과 데이터 저장소에 저장이 되어 직접 분석이 되거나, 정형 데이터의 경우 기존 데이터 웨어하우스로 복사되어, 비즈니스에서 사용될 수 있도록 한다.
- Hadoop / Spark 기반으로 구축되고, 저장소로 HDFS를 주로 사용했다.
		- 분석 엔진으로 Hadoop / Spark, 실시간 스트리밍 처리로 Kafka를 사용할 수 있다.

## 중앙 집중형의 단점
- 모두 하나의 중앙 집중화된 시스템에 데이터가 모아지는 형태가 되고, 다음과 같은 문제가 발생할 수 있다.
	- 도메인 지식의 부족
		- 데이터 분석가들은 데이터 분석만 할 줄 알고, 도메인에 대해서 이해가 부족하다.
			- 데이터를 통해 인사이트를 뽑아내기 어려워진다.
		- 현업 팀과 커뮤니케이션을 하면서 요구사항 기반으로 도메인의 지식을 습득하여 데이터를 분석한다.
			- 하나의 분석 팀이 여러 현업팀과 협업하고, 커뮤니케이션의 지속성이 떨어지고 도메인에 대한 이해도가 떨어진다.
			- 결과적으로 신속하고 깊은 수준의 데이터 분석이 어려워진다.
		- 현업팀과 데이터 분석 팀은 별도이기 때문에, 서로간의 업무를 이해하기 어려워진다.
	- 단일화된 기술 체계
		- 단일 시스템이고, 단일화된 분석 기술 솔루션을 사용한다.
			- 그러나 데이터나 도메인의 특성에 따라 솔루션이 달라져야 하는 경우가 많다.
		- 중앙 집중화된 플랫폼은 다양한 기술 체계를 수용하기 어렵다.
	- 예산 및 인력 부족
		- 데이터 분석 팀은 돈을 버는 조직이 아니다.
			- 데이터 분석을 통한 수익 기여를 수치화하기 어렵고, 따라서 투자된 비용에 따라 조직을 운영하게 된다.
			- 외부 투자에 의존적이고, 인력 부족으로 원하는 만큼 데이터 분석을 하기 어렵다.
	- 이미 부서에서 데이터 분석 플랫폼을 따로 만드는 경우가 있다.
# 데이터 메쉬
- 도메인별로 시스템과 팀을 분리하는 구조를 데이터 메쉬 아키텍처라고 한다.
- 분석팀과 분석 시스템이 각 업무 별로 할당되어 있는 구조가 이루어지게 된다.
- MSA와 동일한 철학과 특징을 갖고 있다.
	- 데이터 도메인별로 팀과 시스템을 나누어 데이터에 대한 이해도와 속도를 높이는 것이다.
- 다음과 같은 기능을 가질 수 있어야 한다.
	- 서로 다른 부서간의 데이터를 접근할 수 있어야 한다.
		- 데이터 분석 도구를 통일하는 방법이나, 인터페이스를 통합하는 방법으로 해결할 수 있다.
	- 타 부서간의 데이터에 대한 통합 데이터 분석
		- 다른 부서의 데이터를 참고해서 데이터를 분석해야 하는 경우가 있다.
		- 서로 다른 시스템 간의 데이터를 상호 조회하는 기능을 Federation이라 하고, Data Mesh에서 매우 중요시 여겨진다.
	- 데이터 카탈로그 서비스
		- 여러 부서간의 방대한 데이터에 대해, 어디에 어떤 데이터가 있는지 조회할 수 있어야 한다.
		- 필요한 데이터를 사용자가 쉽게 찾고 접근할 수 있어야 한다.
			- 또한 사용자에 따라 데이터 접근 권한을 관리할 수 있어야 한다.
		- 데이터 접근 기능을 통해 누가 언제 어떤 데이터를 조회했는지 확인할 수 있도록 한다.
	- 실시간 스트리밍 데이터
		- 현대 빅데이터 서비스는 정형 / 비정형을 실시간 형태로 처리하는 스트리밍 데이터 처리가 추가되는 특징이 있다.
			- 접속 로그를 실시간으로 수집하여 분석하거나, 제품 판매 내용을 실시간으로 수집해서 분석하는 등의 경우가 있다.
			- 이러한 데이터 처리는 대용량 메시지 큐를 사용한다.
				- 1 : N 메시지 딜리버리를 지원해야 한다.
	- DevOps
		- 데이터 메쉬에서도 데브옵스의 개념을 도입하는 것이 좋다.
			- 속도 중심의 아키텍처 스타일로 각 도메인에 대한 데이터 분석을 각 팀이 수행하기 때문이다.
		- 빠른 속도를 더하기 위해 운영과 개발을 함께 하는 구조가 되는 것이 좋다.
			- 데이터 분석 시스템이 플랫폼화 되어 있어야 한다.
				- 공통 플랫폼을 개발하고, 운영하는 팀이 DevOps 팀이다.
				- 각 데이터 분석팀이 사용할 수 있는 구조로 플랫폼을 개발하고, 운영하는 역할을 한다.

