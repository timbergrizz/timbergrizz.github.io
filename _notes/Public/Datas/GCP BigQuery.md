---
title: GCP BigQuery
feed: hide
---

- 출처
	- [구글 빅데이타 플랫폼 빅쿼리 소개](https://bcho.tistory.com/1116)
	- [빅쿼리 #2 - 아키텍처](빅쿼리 #2-아키텍쳐)

## What is BigQuery?
- 빅쿼리는 페타바이트 급의 데이터 저장 및 분석용 클라우드 서비스이다.
	- [[AWS Redshift]] 같은 일종의 Data Warehouse 형식이라고 생각하면 좋을 것 같다.
### 특징
- 클라우드 설치로 서비스에 따로 설정이 필요 없다
- 기존의 SQL 언어를 그대로 사용한다.
- 클라우드 스케일의 인프라를 통한 대용량 지원과 빠른 성능을 확보할 수 있다.
	- 4TB 용량이 핸들링되는데 30초가 소요되며 이 쿼리를 수행하는데 20불로 사용할 수 있다.
- 데이터가 3개의 복제본이 서로 다른 3개의 데이터 센터로 분산되어 유실 위험이 적다.
- 한번에 데이터를 처리하는 배치와 REST API등을 통해 실시간으로 데이터를 입력하는 스트리밍 모두 지원한다.
- 저장되는 데이터 사이즈와 쿼리시 발생하는 트랜젝션 비용만큼만 과금이 이루어진다.

### 기존 빅데이터 플랫폼과의 다른점?
- Hadoop / Spark 등의 빅데이터 분석 플랫폼과 다른 점은 다음과 같다.
	- Hadoop의 Map & Reduce 구조나 SparkSQL에 비해 난이도가 쉽다.
	- Hadoop과 Spark와 달리따로 운영을 필요로 하지 않는 클라우드 관리형 서비스이다.
	- 또한, 인프라에 대한 투자 없이 컴퓨팅 자원을 사용할 수 있다.

## Architecture of BigQuery
- 일반적인 DBMS는 로우 단위로 데이터가 구성되게 된다.
- 빅쿼리는 컬럼 기반 저장소로 구성된다.
	- 이 경우, 컬럼에 따라 다른 파일에 나누어 저장이 이루어지게 된다.
	- 특정 컬럼만 읽어서 개수를 세거나 통계를 내는 분석용 데이터 베이스 작업에 유리하다.
- 트리 구조의 데이터 처리 구조를 사용한다.
- 빅쿼리에는 키나 인덱스의 개념 없이, 풀 스캔을 사용한다.
- 성능을 위해 데이터를 추가하는것만 지원하며, update나 delete가 불가능하다.
- 데이터를 입력하여도 3개의 분산 데이터 센터로 복제하는 시간이 걸려 데이터를 입력한 후 바로 조회할 수 없다.