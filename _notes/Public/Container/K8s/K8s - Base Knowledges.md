---
title: K8s - Base Knowledges
feed: hide
---

## 쿠버네티스 IDE
- Service는 굳이 service라고 이름 붙일 필요 없다.
- Cloud Code 쓰면 좋다.
	- 자등으로 파일 구분 된다.
	- 서비스명도 동일하게 작동한다.
- 쿠베는 어느정도 하면 파일 어떻게 묶는지 / 리소스 네이밍 어케 해야할지 고민이 많이 된다.
	- 이러한 툴 사용하면 좋다.

## DaemonSet
- 노드를 모니터링하는 팟으로 노드당 하나만 작동한다
	- 레이블 셀렉터를 통해 작동하지 않도록 할 수도 있다.

## Job
- Deployment는 올라가면 안내려온다.
- Job이 끝나면 수명이 끝난다.
	- Cron Jobs은 스케줄링되어 작동할 수 있다.
- Sequential run과 Parallel run이 존재한다.
	- 시퀀셜 런은 순차적으로 진행한다.
	- 패러럴 런은 여러개의 잡을 띄워서 작동시킬 수 있다.

## Namespace
- 굉장히 중요한 분야
	- 서비스를 분야 별로 나눈다고 할 수 있다.
	- 아마존은 account / 구글은 project라는 개념을 사용한다.
		- 큰 쿠버네티스 클러스터가 있을 때, 이를 namespace로 쪼개어 동작시킨다.
		- 그리고 쿼터를 정의하여 사용할 CPU, 메모리, 접근 권한 등을 지정하는 것이다.,
			- 팀 단위로 IAM을 지정해준다고 생각하면 좋다.

## StatefulSet
- Replica set으로 정의하면 볼륨은 하난데 pod는 여러개가 된다.
	- 여러개의 replica pod가 하나의 볼륨을 가리킨다.
- 디스크도 template로 하자고 나온 거이 stateful set이다.
- pod에 관한 정보도 있지만 volume에 대한 정보도 있다.
	- 이게 stateful set이 된다.
	- persistent volume도 하나씩 생긴다.
		- 생성이 되면 이름이 순차적으로 붇는다.
- 오토스케일로 스케일 아웃이 되어도 디스크는 살려둔다.
	- ordered ready가 있고, 이건 pod를 하나씩 띄운다.
	- slavenode가 마스터 노드에 한번에 붙으면 replication lag때문에 죽는다.
		- 하나씩 띄우면서 서버에 부담을 줄이는 방법을 사용할 수 있다.
- 클라우드 내에 main service로 rds등을 올리기 때문에, 일반적으로 쿠베 내에 DB를 직접 올리는 경우는 잘 없다.
	- 노드가 scale down등이 발생하면 restart가 되고, 이러면 신나게 되는 거다.
		- 굳이 이렇게 할 필요가 없다.
	- API는 업데이트가 잦고, DB는 업데이트를 안한ㄴ다. 그래서 쿠베를 안에서 돌릴 필요가 없다.
		- 개발 환경등을 만들 때는 이렇게 사용할 수 있다.
		- apt-get으로 helm 설치하면 db 깔린다.
			- 표준 환경으로 사용하기 위해서 사용한다.
	- 돌릴 필요가 없을 뿐이지 돌리는 경우들도 있다.
		- 쿠베 내부에서 DB 서비스 하는 업체들 많다.
		- Namespace 격리시키고, 권한 확실하게 줄 수 있어서 좋다.

여기까지가 기본이다. 지금까지 할게 신난다.
